OGR SQL queries

resources:
  http://www.gdal.org/ogr/ogr_sql.html
  https://github.com/nvkelso/geo-how-to/wiki/OGR-to-reproject,-modify-Shapefiles

*note: use ogrinfo to get stats, use ogr2ogr to create a new shapefile.


#this one pulls all admin 0 capitals and puts it into a new shapefile called 'ne_50m_pop_place_admin0_cap.shp':
  ogr2ogr -sql "SELECT * FROM ne_50m_populated_places_simple WHERE featurecla='Admin-0 capital'"  ne_50m_pop_place_admin0_cap.shp ne_50m_populated_places_simple.shp

#same as above but returns a new shapefile only of admin 1 capitals 
  ogr2ogr -sql "SELECT * FROM ne_50m_populated_places_simple WHERE featurecla IN ('Admin-1 capital', 'Admin-1 region capital')"  ne_50m_pop_place_admin1_cap.shp ne_50m_populated_places_simple.shp

#this query returns each value in the featurecla field with no duplicates:
  ogrinfo -sql "select DISTINCT featurecla from ne_50m_populated_places_simple"  ne_50m_populated_places_simple.shp ne_50m_populated_places_simple
  
#this query returns the number of values in ADMO_A3 without duplicate values:
  ogrinfo -sql "select COUNT(DISTINCT ADM0_A3) from ne_50m_populated_places_simple"  ne_50m_populated_places_simple.shp ne_50m_populated_places_simple
